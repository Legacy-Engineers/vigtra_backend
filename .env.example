# =============================================================================
# VIGTRA BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values for your environment
# Never commit .env files to version control!

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
# Environment type: development, testing, staging, production
ENVIRONMENT=development

# Django Debug Mode (true for development, false for production)
DEBUG=true

# Django Secret Key (generate a new one for production!)
SECRET_KEY=your-super-secret-key-change-this-in-production

# Allowed hosts (comma-separated list)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database engine: sqlite, postgresql, mysql
DB_ENGINE=sqlite

# PostgreSQL/MySQL Database Settings (not needed for SQLite)
DB_NAME=vigtra_db
DB_USER=vigtra_user
DB_PASSWORD=your_db_password
DB_HOST=localhost
DB_PORT=5432

# Read replica database (optional, for production)
DB_READ_HOST=
DB_READ_USER=

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Cache backend: redis, memcached, dummy, locmem, database, filebased
CACHE_BACKEND=redis

# Cache URL (format depends on backend)
CACHE_URL=redis://localhost:6379/1

# Cache timeout in seconds
CACHE_TIMEOUT=300

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# Enable query logging for GraphQL (true/false)
GRAPHQL_QUERY_LOGGING=false

# =============================================================================
# GRAPHQL CONFIGURATION
# =============================================================================
# GraphQL endpoint URLs
GRAPHQL_URL=/graphql/
GRAPHIQL_URL=/graphiql/

# GraphQL debug mode (enables introspection and GraphiQL)
GRAPHQL_DEBUG=true

# Query limits for security
GRAPHQL_MAX_COMPLEXITY=1000
GRAPHQL_MAX_DEPTH=10
GRAPHQL_RATE_LIMIT=60

# File upload limits
GRAPHQL_UPLOAD_MAX_SIZE=50
GRAPHQL_UPLOAD_MAX_FILES=10

# Schema cache timeout (seconds)
GRAPHQL_SCHEMA_CACHE_TIMEOUT=3600

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# JWT secret key (use different from Django SECRET_KEY in production)
JWT_SECRET_KEY=your-jwt-secret-key

# JWT token expiration (minutes)
JWT_EXPIRATION_MINUTES=60

# JWT refresh token expiration (days)
JWT_REFRESH_DAYS=7

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email backend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# SMTP settings (for production)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-email-password

# Admin email addresses (comma-separated)
ADMIN_EMAILS=admin@yourdomain.com,support@yourdomain.com

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# AWS Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=your-s3-bucket
AWS_REGION=us-east-1

# Redis Configuration (if using separate Redis instances)
REDIS_URL=redis://localhost:6379/1
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/3

# Apollo Studio (for GraphQL monitoring in production)
APOLLO_STUDIO_API_KEY=your-apollo-studio-key
APOLLO_GRAPH_REF=production

# Sentry (for error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# =============================================================================
# SECURITY SETTINGS (PRODUCTION)
# =============================================================================
# Security headers and HTTPS settings
SECURE_SSL_REDIRECT=false
SECURE_BROWSER_XSS_FILTER=true
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=false
SECURE_HSTS_PRELOAD=false

# Session security
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# CSRF settings
CSRF_COOKIE_SECURE=false
CSRF_COOKIE_HTTPONLY=true
CSRF_COOKIE_SAMESITE=Lax

# =============================================================================
# MEDIA AND STATIC FILES
# =============================================================================
# Static files configuration
STATIC_URL=/static/
STATIC_ROOT=/var/www/vigtra/static/

# Media files configuration
MEDIA_URL=/media/
MEDIA_ROOT=/var/www/vigtra/media/

# File upload settings
FILE_UPLOAD_MAX_MEMORY_SIZE=52428800
DATA_UPLOAD_MAX_MEMORY_SIZE=52428800

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Database connection pooling
DB_CONN_MAX_AGE=600

# Cache middleware settings
CACHE_MIDDLEWARE_SECONDS=300
CACHE_MIDDLEWARE_KEY_PREFIX=vigtra

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable Django Debug Toolbar (development only)
ENABLE_DEBUG_TOOLBAR=true

# Enable Django Extensions (development only)
ENABLE_DJANGO_EXTENSIONS=true

# =============================================================================
# MONITORING AND ANALYTICS
# =============================================================================
# Google Analytics ID
GOOGLE_ANALYTICS_ID=GA-XXXXXX-X

# Application monitoring
NEW_RELIC_LICENSE_KEY=your-new-relic-key
DATADOG_API_KEY=your-datadog-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
ENABLE_USER_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_API_RATE_LIMITING=true

# =============================================================================
# EXAMPLE ENVIRONMENT-SPECIFIC CONFIGURATIONS
# =============================================================================

# DEVELOPMENT ENVIRONMENT EXAMPLE:
# ENVIRONMENT=development
# DEBUG=true
# DB_ENGINE=sqlite
# CACHE_BACKEND=dummy
# GRAPHQL_DEBUG=true
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# PRODUCTION ENVIRONMENT EXAMPLE:
# ENVIRONMENT=production
# DEBUG=false
# DB_ENGINE=postgresql
# DB_NAME=vigtra_prod
# DB_USER=vigtra_prod_user
# DB_PASSWORD=super-secure-password
# DB_HOST=your-db-host.com
# CACHE_BACKEND=redis
# CACHE_URL=redis://your-redis-host:6379/1
# GRAPHQL_DEBUG=false
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# SECURE_SSL_REDIRECT=true
# SESSION_COOKIE_SECURE=true
# CSRF_COOKIE_SECURE=true

# TESTING ENVIRONMENT EXAMPLE:
# ENVIRONMENT=testing
# DEBUG=false
# DB_ENGINE=sqlite
# CACHE_BACKEND=dummy
# EMAIL_BACKEND=django.core.mail.backends.locmem.EmailBackend
